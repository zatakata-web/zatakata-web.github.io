(function(t){function e(e){for(var a,r,i=e[0],s=e[1],u=e[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(m.length)m.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(a=!1)}a&&(c.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},c=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=s;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0d31":function(t,e,n){},"12e1":function(t,e,n){},"1e05":function(t,e,n){"use strict";n("8cc8")},5079:function(t,e,n){},"519e":function(t,e,n){"use strict";n("0d31")},"52de":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-wrapper")],1)},c=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-wrapper"},[n("vNav",{attrs:{navItems:t.navItems}}),n("main",{staticClass:"v-wrapper-content"},[n("router-view")],1)],1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"v-nav"},[n("ul",{staticClass:"v-nav__list"},t._l(t.navItems,(function(e,a){var o=e.title,c=e.to;return n("li",{key:a,staticClass:"v-nav__list-item"},[n("router-link",{attrs:{to:c,exact:"","active-class":"v-nav__list-item--active"}},[t._v(" "+t._s(o)+" ")])],1)})),0)])},u=[],l={name:"v-nav",props:{navItems:Array}},d=l,m=(n("c238"),n("2877")),p=Object(m["a"])(d,s,u,!1,null,null,null),v=p.exports,f={name:"v-wrapper",components:{vNav:v},data:function(){return{navItems:[{title:"Склад",to:"/"},{title:"Продажи",to:"/sales"},{title:"Добавить на склад",to:"/addToStorage"},{title:"Создать компонент",to:"/products"},{title:"Создать блюдо",to:"/dish"}]}}},_=f,b=(n("df9c"),Object(m["a"])(_,r,i,!1,null,null,null)),h=b.exports,O={name:"App",components:{vWrapper:h}},T=O,E=(n("5c0b"),Object(m["a"])(T,o,c,!1,null,null,null)),D=E.exports,P=n("8c4f"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"storage"},[n("vTable",{attrs:{caption:t.table.caption,columns:t.table.columns,data:t.storage,operations:t.table.operations},on:{onDelete:t.deleteStorageItem,onCount:t.count}})],1)},g=[],C=n("5530"),A=(n("d81d"),n("b0c0"),n("2f62")),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-table-wrapper"},[n("div",{staticClass:"v-table__top"},[n("caption",{staticClass:"v-table__title"},[t._v(" "+t._s(t.caption)+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"v-table__search",attrs:{type:"text",placeholder:"Поиск"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),n("table",{staticClass:"v-table"},[n("tr",{staticClass:"v-table__head v-table__row"},[t._l(t.columns,(function(t,e){return n("vTableColumn",{key:e,attrs:{label:t}})})),t.operations?n("vTableColumn",{attrs:{label:"Операции"}}):t._e()],2),t._l(t.filterData,(function(e){return n("vTableItem",{key:e.id,staticClass:"v-table__row",attrs:{rowData:e,operations:t.operations},on:{onDelete:t.deleteItem,onAdd:t.addItem,onCount:t.count}})}))],2)])},w=[],y=(n("4de4"),n("841c"),n("ac1f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("th",{staticClass:"v-table-column"},[t._v(t._s(t.label))])}),j=[],R={name:"v-table-column",props:{label:String}},M=R,x=(n("1e05"),Object(m["a"])(M,y,j,!1,null,null,null)),$=x.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"v-table__row"},[t._l(t.cells,(function(e,a){return n("td",{key:a},[t._v(t._s(e))])})),t.operations?n("td",{staticClass:"v-table__operations"},[t.operations.count?n("i",{staticClass:"material-icons count",attrs:{title:"Подсчитать"},on:{click:function(e){return t.count(t.rowData)}}},[t._v("attach_money")]):t._e(),t.operations.delete?n("i",{staticClass:"material-icons delete",attrs:{title:"Удалить"},on:{click:function(e){return t.deleteItem(t.rowData.id)}}},[t._v("delete")]):t._e(),t.operations.add?n("i",{staticClass:"material-icons add",attrs:{title:"Добавить"},on:{click:function(e){return t.addItem(t.rowData)}}},[t._v("add")]):t._e()]):t._e()],2)},L=[],q={name:"v-table-item",props:{rowData:Object,operations:Object},computed:{cells:function(){var t=Object(C["a"])({},this.rowData);return delete t.id,t}},methods:{deleteItem:function(t){this.$emit("onDelete",t)},addItem:function(t){this.$emit("onAdd",t)},count:function(t){this.$emit("onCount",t)}}},U=q,k=Object(m["a"])(U,G,L,!1,null,null,null),N=k.exports,H={name:"v-table",components:{vTableColumn:$,vTableItem:N},data:function(){return{search:""}},props:{caption:String,operations:Object,columns:Array,data:Array},computed:{filterData:function(){var t=this;return this.data.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.search.toLowerCase())}))}},methods:{deleteItem:function(t){this.$emit("onDelete",t)},addItem:function(t){this.$emit("onAdd",t)},count:function(t){this.$emit("onCount",t)}}},F=H,V=(n("7467"),Object(m["a"])(F,I,w,!1,null,null,null)),J=V.exports;function z(){var t={year:"numeric",month:"numeric",day:"numeric",timezone:"UTC"};return(new Date).toLocaleString("ru",t)}var W={name:"Storage",components:{vTable:J,vTableColumn:$},data:function(){return{table:{caption:"Таблица склада",operations:{count:!0,delete:!0},columns:["Дата","Название","Кол-во","Себестоимость","Выручка"]}}},computed:{storage:function(){return this.$store.getters.STORAGE.map((function(t){return Object(C["a"])(Object(C["a"])({},t),{},{costPrice:t.costPrice*t.quantity,revenue:t.revenue*t.quantity})}))}},methods:Object(C["a"])(Object(C["a"])({},Object(A["b"])(["DELETE_STORAGE_ITEM","ADD_SALE_ITEM","CHANGE_STORAGE_ITEM"])),{},{deleteStorageItem:function(t){this.DELETE_STORAGE_ITEM(t)},count:function(t){var e=+prompt("Кол-во проданных товаров:"),n={id:Date.now(),date:z(),name:t.name,quantity:e,proceeds:t.revenue/t.quantity*e},a=Object(C["a"])(Object(C["a"])({},t),{},{quantity:t.quantity-e,costPrice:t.costPrice/t.quantity,revenue:t.revenue/t.quantity});this.ADD_SALE_ITEM(n),this.CHANGE_STORAGE_ITEM(a)}})},B=W,K=Object(m["a"])(B,S,g,!1,null,null,null),Q=K.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"products"},[n("div",{staticClass:"products__form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],attrs:{type:"text",placeholder:"Название"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.product.weight,expression:"product.weight"}],attrs:{type:"number",placeholder:"Масса"},domProps:{value:t.product.weight},on:{input:function(e){e.target.composing||t.$set(t.product,"weight",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.product.costPrice,expression:"product.costPrice"}],attrs:{type:"number",placeholder:"Себестоимость"},domProps:{value:t.product.costPrice},on:{input:function(e){e.target.composing||t.$set(t.product,"costPrice",e.target.value)}}}),n("button",{on:{click:t.addProduct}},[t._v("Добавить")])]),n("vTable",{attrs:{caption:t.table.caption,columns:t.table.columns,data:t.PRODUCTS,operations:t.table.operations},on:{onDelete:t.deleteProductItem}})],1)},Y=[],Z={name:"Products",components:{vTable:J,vTableColumn:$},data:function(){return{table:{caption:"Таблица продуктов",operations:{delete:!0},columns:["Название","Масса","Себестоимость"]},product:{name:"",weight:"",costPrice:""}}},computed:Object(C["a"])({},Object(A["c"])(["PRODUCTS"])),methods:Object(C["a"])(Object(C["a"])({},Object(A["b"])(["ADD_PRODUCT_ITEM","DELETE_PRODUCT_ITEM"])),{},{addProduct:function(){this.ADD_PRODUCT_ITEM(this.product),this.product={name:"",weight:"",costPrice:""}},deleteProductItem:function(t){this.DELETE_PRODUCT_ITEM(t)}})},tt=Z,et=(n("8247"),Object(m["a"])(tt,X,Y,!1,null,null,null)),nt=et.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dish"},[n("div",{staticClass:"dish__form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Название"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number",placeholder:"Цена продажи"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}),n("button",{on:{click:t.addDish}},[t._v("Добавить")])]),n("div",{staticClass:"dish__products"},[n("h3",{staticClass:"dish__products-title"},[t._v("Выбранные продуты:")]),n("ul",{staticClass:"dish__products-list"},t._l(t.selectProducts,(function(e,a){return n("li",{key:a},[t._v(" "+t._s(e.name)+" ("+t._s(e.amount)+") "),n("i",{staticClass:"material-icons delete",attrs:{title:"Удалить"},on:{click:function(e){return t.deleteSelectProduct(a)}}},[t._v(" delete ")])])})),0),n("b",[t._v("Себестоимость: "+t._s(t.costPrice))])]),n("vTable",{attrs:{caption:t.table.caption,columns:t.table.columns,data:t.PRODUCTS,operations:t.table.operations},on:{onAdd:t.addSelectItem}})],1)},ot=[],ct=(n("c740"),n("13d5"),{name:"Dish",components:{vTable:J,vTableColumn:$},data:function(){return{name:"",price:0,costPrice:0,table:{caption:"Таблица продуктов",operations:{add:!0},columns:["Название","Масса","Себестоимость"]},selectProducts:[]}},computed:Object(C["a"])({},Object(A["c"])(["PRODUCTS"])),methods:Object(C["a"])(Object(C["a"])({},Object(A["b"])(["ADD_DISH_ITEM"])),{},{deleteSelectProduct:function(t){this.selectProducts=this.selectProducts.filter((function(e,n){return n!==t})),this.countPrice()},addSelectItem:function(t){var e=Object(C["a"])({},t),n=this.selectProducts.findIndex((function(t){return t.name===e.name}));-1!==n?this.selectProducts[n].amount++:(this.$set(e,"amount",1),this.selectProducts.push(e)),this.countPrice()},addDish:function(){var t={id:Date.now(),name:this.name,products:this.selectProducts,costPrice:this.costPrice,price:this.price};this.ADD_DISH_ITEM(t),this.name="",this.selectProducts=[],this.costPrice=0,this.price=0},countPrice:function(){this.costPrice=this.selectProducts.reduce((function(t,e){return t+e.costPrice*e.amount}),0)}})}),rt=ct,it=(n("519e"),Object(m["a"])(rt,at,ot,!1,null,null,null)),st=it.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sales"},[n("vTable",{attrs:{caption:t.table.caption,columns:t.table.columns,data:t.SALES}})],1)},lt=[],dt={name:"Sales",components:{vTable:J,vTableColumn:$},data:function(){return{table:{caption:"Таблица продаж",columns:["Дата","Название","Кол-во","Выручка"]}}},computed:Object(C["a"])({},Object(A["c"])(["SALES"])),methods:{}},mt=dt,pt=(n("e39d"),Object(m["a"])(mt,ut,lt,!1,null,null,null)),vt=pt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-to-storage"},[n("vTable",{attrs:{caption:t.table.caption,columns:t.table.columns,data:t.dishItems,operations:t.table.operations},on:{onAdd:t.addDishItem}})],1)},_t=[],bt=(n("a15b"),{name:"AddToStorage",components:{vTable:J,vTableColumn:$},data:function(){return{table:{caption:"Добавить на склад",operations:{add:!0},columns:["Название","Состав","Себестоимость","Цена продажи"]}}},computed:{dishItems:function(){var t=this.$store.getters.DISH_ITEMS.map((function(t){var e=Object(C["a"])({},t);return e.products=e.products.map((function(t){return t.name})).join(", "),e}));return t}},methods:Object(C["a"])(Object(C["a"])({},Object(A["b"])(["ADD_STORAGE_ITEM"])),{},{addDishItem:function(t){var e=prompt("Укажите количество:"),n={id:Date.now(),date:z(),name:t.name,quantity:+e,costPrice:t.costPrice,revenue:t.price};this.ADD_STORAGE_ITEM(n)}})}),ht=bt,Ot=(n("9fcf"),Object(m["a"])(ht,ft,_t,!1,null,null,null)),Tt=Ot.exports;a["a"].use(P["a"]);var Et=[{path:"/",name:"Storage",component:Q},{path:"/products",name:"Products",component:nt},{path:"/dish",name:"Dish",component:st},{path:"/sales",name:"Sales",component:vt},{path:"/addToStorage",name:"AddToStorage",component:Tt}],Dt=new P["a"]({mode:"history",base:"/",routes:Et}),Pt=Dt;a["a"].use(A["a"]);var St=new A["a"].Store({state:{storage:[{id:1,date:"2021-02-03",name:'Роллы "Филадельфия"',quantity:70,costPrice:55e3,revenue:76e3},{id:2,date:"2021-02-04",name:'Роллы "Калифорния"',quantity:30,costPrice:53e3,revenue:736e3},{id:3,date:"2021-02-05",name:'Роллы "Темпура"',quantity:40,costPrice:15e3,revenue:7e3},{id:4,date:"2021-02-06",name:'Роллы "Унаги Ролл"',quantity:50,costPrice:535e3,revenue:71e3},{id:5,date:"2021-02-06",name:'Роллы "Инари"',quantity:50,costPrice:535e3,revenue:71e3},{id:6,date:"2021-02-06",name:"Роллы «Радуга»",quantity:50,costPrice:535e3,revenue:71e3}],products:[{id:1,name:"Васаби",weight:100,costPrice:44},{id:2,name:"Имбирь",weight:100,costPrice:23},{id:3,name:"Нори",weight:100,costPrice:17},{id:4,name:"Рис",weight:100,costPrice:56}],dishItems:[{id:1,name:"test",products:[{id:1,name:"Васаби",weight:100,costPrice:44},{id:2,name:"Имбирь",weight:100,costPrice:23},{id:3,name:"Нори",weight:100,costPrice:17},{id:4,name:"Рис",weight:100,costPrice:56}],costPrice:111,price:333}],sales:[{id:1,date:"20.03.2021",name:'Роллы "Филадельфия"',quantity:21,proceeds:3333}]},mutations:{REMOVE_FROM_STORAGE:function(t,e){t.storage=t.storage.filter((function(t){return t.id!==e}))},ADD_TO_STORAGE:function(t,e){t.storage.push(e)},CHANGE_TO_STORAGE:function(t,e){t.storage=t.storage.map((function(t){return t.id===e.id?e:t}))},REMOVE_FROM_PRODUCTS:function(t,e){t.products=t.products.filter((function(t){return t.id!==e}))},ADD_TO_PRODUCTS:function(t,e){t.products.push(e)},ADD_TO_DISH_ITEMS:function(t,e){t.dishItems.push(e)},ADD_TO_SALES:function(t,e){t.sales.push(e)}},actions:{DELETE_STORAGE_ITEM:function(t,e){var n=t.commit;n("REMOVE_FROM_STORAGE",e)},ADD_STORAGE_ITEM:function(t,e){var n=t.commit;n("ADD_TO_STORAGE",e)},CHANGE_STORAGE_ITEM:function(t,e){var n=t.commit;n("CHANGE_TO_STORAGE",e)},DELETE_PRODUCT_ITEM:function(t,e){var n=t.commit;n("REMOVE_FROM_PRODUCTS",e)},ADD_PRODUCT_ITEM:function(t,e){var n=t.commit;n("ADD_TO_PRODUCTS",e)},ADD_DISH_ITEM:function(t,e){var n=t.commit;n("ADD_TO_DISH_ITEMS",e)},ADD_SALE_ITEM:function(t,e){var n=t.commit;n("ADD_TO_SALES",e)}},getters:{STORAGE:function(t){var e=t.storage;return e},PRODUCTS:function(t){var e=t.products;return e},DISH_ITEMS:function(t){var e=t.dishItems;return e},SALES:function(t){var e=t.sales;return e}}});n("f818");a["a"].config.productionTip=!1,new a["a"]({router:Pt,store:St,render:function(t){return t(D)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},7467:function(t,e,n){"use strict";n("e1be")},8247:function(t,e,n){"use strict";n("eba7")},"8cc8":function(t,e,n){},"9c0c":function(t,e,n){},"9fcf":function(t,e,n){"use strict";n("52de")},a844:function(t,e,n){},c238:function(t,e,n){"use strict";n("5079")},df9c:function(t,e,n){"use strict";n("12e1")},e1be:function(t,e,n){},e39d:function(t,e,n){"use strict";n("a844")},eba7:function(t,e,n){}});
//# sourceMappingURL=app.ef0501eb.js.map